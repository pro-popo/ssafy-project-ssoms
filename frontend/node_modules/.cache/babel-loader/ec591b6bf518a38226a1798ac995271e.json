{"remainingRequest":"D:\\s03p31b303\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\s03p31b303\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\s03p31b303\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\s03p31b303\\frontend\\src\\components\\non-account\\SignUpForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\s03p31b303\\frontend\\src\\components\\non-account\\SignUpForm.vue","mtime":1604602193334},{"path":"D:\\s03p31b303\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovczAzcDMxYjMwMy9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTRVJWRVIgZnJvbSAiQC9hcGkvc3ByaW5nIjsKaW1wb3J0IHsgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2luZ1VwRm9ybSIsCiAgcHJvcHM6IHsKICAgIGlzQWRtaW46IEJvb2xlYW4KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93MTogZmFsc2UsCiAgICAgIGFjY291bnQ6IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgcHc6ICIiLAogICAgICAgIGVtcGxveWVlSWQ6ICIiLAogICAgICAgIHBob25lTnVtYmVyOiAiIiwKICAgICAgICBhZG1pbjogZmFsc2UKICAgICAgfSwKICAgICAgY29uZmlybVB3OiAiIiwKICAgICAgaXNEdXBsaWNhdGVFbWFpbDogdHJ1ZSwKICAgICAgcnVsZXM6IHsKICAgICAgICByZXF1aXJlZDogZnVuY3Rpb24gcmVxdWlyZWQodikgewogICAgICAgICAgcmV0dXJuICEhdiB8fCAiUmVxdWlyZWQuIjsKICAgICAgICB9LAogICAgICAgIGVtYWlsUnVsZXM6IGZ1bmN0aW9uIGVtYWlsUnVsZXModikgewogICAgICAgICAgcmV0dXJuIC8uK0AuKy8udGVzdCh2KSB8fCAiRS1tYWlsIG11c3QgYmUgdmFsaWQiOwogICAgICAgIH0gLy8gbWluOiAodikgPT4gdi5sZW5ndGggPj0gOCB8fCAiTWluIDggY2hhcmFjdGVycyIsCgogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHB3Q29uZmlybVJ1bGVzOiBmdW5jdGlvbiBwd0NvbmZpcm1SdWxlcygpIHsKICAgICAgcmV0dXJuIHRoaXMuYWNjb3VudC5wdyA9PT0gdGhpcy5jb25maXJtUHcgfHwgIlBhc3N3b3JkIGRvIG5vdCBtYXRjaC4iOwogICAgfSwKICAgIGR1cGxpY2F0ZUVtYWlsUnVsZXM6IGZ1bmN0aW9uIGR1cGxpY2F0ZUVtYWlsUnVsZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzRHVwbGljYXRlRW1haWwgfHwgIkUtbWFpbCBhbHJlYWR5IGV4aXN0cy4iOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuYWNjb3VudC5hZG1pbiA9IHRoaXMuaXNBZG1pbjsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKCJBY2NvdW50IiwgWyJTRVRfRVhJU1RFRF9BRE1JTiIsICJTRVRfU1VDQ0VTU19TSUdOVVAiXSkpLCB7fSwgewogICAgc2lnblVwOiBmdW5jdGlvbiBzaWduVXAoKSB7CiAgICAgIHRoaXMuaXNEdXBsaWNhdGVFbWFpbCA9IHRydWU7CiAgICAgIHRoaXMuYWNjb3VudC5waG9uZU51bWJlciA9IHRoaXMuYWNjb3VudC5waG9uZU51bWJlci5yZXBsYWNlQWxsKCItIiwgIiIpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICBpZiAodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICAgIGF4aW9zLnB1dChTRVJWRVIuVVJMICsgU0VSVkVSLlJPVVRFUy5zaWdudXAsIHRoaXMuYWNjb3VudCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5yZXN1bHQgPT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgICAgICAgaWYgKF90aGlzLmlzQWRtaW4pIHsKICAgICAgICAgICAgICAgIF90aGlzLlNFVF9FWElTVEVEX0FETUlOKHRydWUpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX3RoaXMuU0VUX1NVQ0NFU1NfU0lHTlVQKHRydWUpOwoKICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgic2lnbnVwLXN1Y2Nlc3MiKTsKCiAgICAgICAgICAgICAgX3RoaXMuZm9ybVJlc2V0KCk7CgogICAgICAgICAgICAgIGlmIChfdGhpcy5pc0FkbWluKSBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogIkxvZ2luIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnJlc3VsdCA9PSAiZmFpbCIpIHsKICAgICAgICAgICAgICBfdGhpcy5pc0R1cGxpY2F0ZUVtYWlsID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0uYmluZCh0aGlzKSwgMTAwKTsKICAgIH0sCiAgICBmb3JtUmVzZXQ6IGZ1bmN0aW9uIGZvcm1SZXNldCgpIHsKICAgICAgLy8gdGhpcy4kcmVmcy5mb3JtLnJlc2V0KCk7CiAgICAgIHZhciByZXNldEFjY291bnQgPSB7CiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIG5hbWU6ICIiLAogICAgICAgIHB3OiAiIiwKICAgICAgICBlbXBsb3llZUlkOiAiIiwKICAgICAgICBwaG9uZU51bWJlcjogIiIsCiAgICAgICAgYWRtaW46IGZhbHNlCiAgICAgIH07CiAgICAgIHRoaXMuYWNjb3VudCA9IHJlc2V0QWNjb3VudDsKICAgICAgdGhpcy5jb25maXJtUHcgPSAiIjsKICAgICAgdGhpcy5pc0R1cGxpY2F0ZUVtYWlsID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0VmFsaWRhdGlvbigpOwogICAgfQogIH0pCn07"},{"version":3,"sources":["SignUpForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"signup-form-container\" align=\"center\">\r\n    <div v-if=\"isAdmin\" class=\"signup-admin-icon\">\r\n      <v-icon style=\"font-size:50px; color:var(--main-color)\"\r\n        >mdi-account-cog</v-icon\r\n      >\r\n      <h3 class=\"admin-h2\">\r\n        ADMIN\r\n      </h3>\r\n    </div>\r\n    <h1>Sign Up</h1>\r\n    <v-form ref=\"form\" class=\"signup-form\">\r\n      <v-text-field\r\n        v-model=\"account.email\"\r\n        prepend-icon=\"mdi-email\"\r\n        label=\"E-mail\"\r\n        :rules=\"[rules.required, rules.emailRules, duplicateEmailRules]\"\r\n        required\r\n      ></v-text-field>\r\n\r\n      <v-text-field\r\n        v-model=\"account.pw\"\r\n        prepend-icon=\"mdi-lock\"\r\n        :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n        :rules=\"[rules.required]\"\r\n        :type=\"show1 ? 'text' : 'password'\"\r\n        name=\"input-10-1\"\r\n        label=\"Password\"\r\n        @click:append=\"show1 = !show1\"\r\n      ></v-text-field>\r\n\r\n      <v-text-field\r\n        v-model=\"confirmPw\"\r\n        prepend-icon=\"mdi-lock-check\"\r\n        :rules=\"[rules.required, pwConfirmRules]\"\r\n        :type=\"show1 ? 'text' : 'password'\"\r\n        name=\"input-10-1\"\r\n        label=\"Confirm Password\"\r\n        @click:append=\"show1 = !show1\"\r\n      ></v-text-field>\r\n\r\n      <v-text-field\r\n        v-model=\"account.name\"\r\n        prepend-icon=\"mdi-account\"\r\n        :rules=\"[rules.required]\"\r\n        label=\"Name\"\r\n        required\r\n      ></v-text-field>\r\n\r\n      <v-text-field\r\n        v-model=\"account.employeeId\"\r\n        prepend-icon=\"mdi-clipboard-account\"\r\n        :rules=\"[rules.required]\"\r\n        label=\"Employee Id\"\r\n        required\r\n      ></v-text-field>\r\n\r\n      <v-text-field\r\n        v-model=\"account.phoneNumber\"\r\n        prepend-icon=\"mdi-phone\"\r\n        :rules=\"[rules.required]\"\r\n        label=\"Phone Number\"\r\n        required\r\n      ></v-text-field>\r\n    </v-form>\r\n    <v-btn\r\n      color=\"var(--main-color)\"\r\n      rounded\r\n      dark\r\n      class=\"sign-btn\"\r\n      @click=\"signUp\"\r\n    >\r\n      Sign Up\r\n    </v-btn>\r\n\r\n    <p class=\"reset-link\" color=\"primary\" @click=\"formReset\">\r\n      Reset\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport SERVER from \"@/api/spring\";\r\nimport { mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"SingUpForm\",\r\n  props: {\r\n    isAdmin: Boolean\r\n  },\r\n\r\n  data: () => ({\r\n    show1: false,\r\n    account: {\r\n      email: \"\",\r\n      name: \"\",\r\n      pw: \"\",\r\n      employeeId: \"\",\r\n      phoneNumber: \"\",\r\n      admin: false\r\n    },\r\n    confirmPw: \"\",\r\n    isDuplicateEmail: true,\r\n\r\n    rules: {\r\n      required: (v) => !!v || \"Required.\",\r\n      emailRules: (v) => /.+@.+/.test(v) || \"E-mail must be valid\"\r\n      // min: (v) => v.length >= 8 || \"Min 8 characters\",\r\n    }\r\n  }),\r\n  computed: {\r\n    pwConfirmRules() {\r\n      return this.account.pw === this.confirmPw || \"Password do not match.\";\r\n    },\r\n    duplicateEmailRules() {\r\n      return this.isDuplicateEmail || \"E-mail already exists.\";\r\n    }\r\n  },\r\n  created() {\r\n    this.account.admin = this.isAdmin;\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"Account\", [\"SET_EXISTED_ADMIN\", \"SET_SUCCESS_SIGNUP\"]),\r\n    signUp() {\r\n      this.isDuplicateEmail = true;\r\n      this.account.phoneNumber = this.account.phoneNumber.replaceAll(\"-\", \"\");\r\n      setTimeout(\r\n        function() {\r\n          if (this.$refs.form.validate()) {\r\n            axios\r\n              .put(SERVER.URL + SERVER.ROUTES.signup, this.account)\r\n              .then((res) => {\r\n                if (res.data.result == \"success\") {\r\n                  if (this.isAdmin) {\r\n                    this.SET_EXISTED_ADMIN(true);\r\n                  }\r\n                  this.SET_SUCCESS_SIGNUP(true);\r\n                  this.$emit(\"signup-success\");\r\n                  this.formReset();\r\n                  if (this.isAdmin) this.$router.push({ name: \"Login\" });\r\n                } else if (res.data.result == \"fail\") {\r\n                  this.isDuplicateEmail = false;\r\n                }\r\n              })\r\n              .catch((err) => console.log(err));\r\n          }\r\n        }.bind(this),\r\n        100\r\n      );\r\n    },\r\n    formReset() {\r\n      // this.$refs.form.reset();\r\n      const resetAccount = {\r\n        email: \"\",\r\n        name: \"\",\r\n        pw: \"\",\r\n        employeeId: \"\",\r\n        phoneNumber: \"\",\r\n        admin: false\r\n      };\r\n      this.account = resetAccount;\r\n      this.confirmPw = \"\";\r\n      this.isDuplicateEmail = true;\r\n\r\n      this.$refs.form.resetValidation();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.signup-form-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.signup-form {\r\n  width: 100%;\r\n  margin: 40px 0px;\r\n}\r\n.v-form {\r\n  width: 70%;\r\n  max-width: 350px;\r\n}\r\n.reset-link {\r\n  color: var(--font-sub-color);\r\n}\r\n.reset-link:hover {\r\n  color: var(--main-sub-color);\r\n  cursor: pointer;\r\n}\r\n.sign-btn {\r\n  width: 70%;\r\n  max-width: 350px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.v-input__control {\r\n  margin-left: 5px;\r\n}\r\n\r\n.admin-h2 {\r\n  color: var(--main-color);\r\n}\r\n\r\n.signup-admin-icon {\r\n  width: 130px;\r\n  height: 130px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/non-account"}]}