{"remainingRequest":"D:\\s03p31b303\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\s03p31b303\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\s03p31b303\\frontend\\src\\store\\modules\\account.js","dependencies":[{"path":"D:\\s03p31b303\\frontend\\src\\store\\modules\\account.js","mtime":1605254136249},{"path":"D:\\s03p31b303\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IFNFUlZFUiBmcm9tICJAL2FwaS9zcHJpbmcuanMiOwppbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsKdmFyIEFjY291bnQgPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgYWNjb3VudDogewogICAgICBlbWFpbDogIiIsCiAgICAgIG5hbWU6ICIiLAogICAgICBlbXBsb3llZUlkOiAiIiwKICAgICAgcGhvbmVOdW1iZXI6ICIiLAogICAgICBhZG1pbjogZmFsc2UsCiAgICAgIHZpc2l0ZWRfaGlzdG9yeTogW10KICAgIH0sCiAgICBpc0V4aXN0ZWRBZG1pbjogdHJ1ZSwKICAgIGlzU3VjY2Vzc1NpZ25VcDogZmFsc2UKICB9LAogIGdldHRlcnM6IHsKICAgIGFjY291bnQ6IGZ1bmN0aW9uIGFjY291bnQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmFjY291bnQ7CiAgICB9LAogICAgaXNFeGlzdGVkQWRtaW46IGZ1bmN0aW9uIGlzRXhpc3RlZEFkbWluKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5pc0V4aXN0ZWRBZG1pbjsKICAgIH0sCiAgICBpc1N1Y2Nlc3NTaWduVXA6IGZ1bmN0aW9uIGlzU3VjY2Vzc1NpZ25VcChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuaXNTdWNjZXNzU2lnblVwOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBTRVRfRVhJU1RFRF9BRE1JTjogZnVuY3Rpb24gU0VUX0VYSVNURURfQURNSU4oc3RhdGUsIHJlc3VsdCkgewogICAgICBzdGF0ZS5pc0V4aXN0ZWRBZG1pbiA9IHJlc3VsdDsKICAgIH0sCiAgICBTRVRfU1VDQ0VTU19TSUdOVVA6IGZ1bmN0aW9uIFNFVF9TVUNDRVNTX1NJR05VUChzdGF0ZSwgcmVzdWx0KSB7CiAgICAgIHN0YXRlLmlzU3VjY2Vzc1NpZ25VcCA9IHJlc3VsdDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGNoZWNrRXhpc3RlZEFkbWluOiBmdW5jdGlvbiBjaGVja0V4aXN0ZWRBZG1pbihfcmVmKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgYXhpb3MuZ2V0KFNFUlZFUi5VUkwgKyBTRVJWRVIuUk9VVEVTLmlzRXhpc3RlZEFkbWluKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEucmVzdWx0ID09ICJ5ZXMiKSB7CiAgICAgICAgICBjb21taXQoIlNFVF9FWElTVEVEX0FETUlOIiwgdHJ1ZSk7IC8vIHJvdXRlci5wdXNoKHsgbmFtZTogIkxvZ2luIiB9KTsKICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnJlc3VsdCA9PSAibm8iKSB7CiAgICAgICAgICBjb21taXQoIlNFVF9FWElTVEVEX0FETUlOIiwgZmFsc2UpOwogICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAiU2lnblVwQWRtaW4iCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgYXhpb3MuZ2V0KFNFUlZFUi5VUkwgKyBTRVJWRVIuUk9VVEVTLmxvZ291dCArIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImxvZ2luU2Vzc2lvbiIpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEucmVzdWx0ID09ICJzdWNjZXNzIikgewogICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgibG9naW5TZXNzaW9uIik7CiAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICJMb2dpbiIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfTsKZXhwb3J0IGRlZmF1bHQgQWNjb3VudDs="},{"version":3,"sources":["D:/s03p31b303/frontend/src/store/modules/account.js"],"names":["axios","SERVER","router","Account","namespaced","state","account","email","name","employeeId","phoneNumber","admin","visited_history","isExistedAdmin","isSuccessSignUp","getters","mutations","SET_EXISTED_ADMIN","result","SET_SUCCESS_SIGNUP","actions","checkExistedAdmin","commit","get","URL","ROUTES","then","res","data","push","console","log","catch","err","logout","sessionStorage","getItem","removeItem","modules"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport SERVER from \"@/api/spring.js\";\r\nimport router from \"@/router\";\r\n\r\nconst Account = {\r\n  namespaced: true,\r\n  state: {\r\n    account: {\r\n      email: \"\",\r\n      name: \"\",\r\n      employeeId: \"\",\r\n      phoneNumber: \"\",\r\n      admin: false,\r\n      visited_history: []\r\n    },\r\n    isExistedAdmin: true,\r\n    isSuccessSignUp: false\r\n  },\r\n  getters: {\r\n    account: (state) => state.account,\r\n    isExistedAdmin: (state) => state.isExistedAdmin,\r\n    isSuccessSignUp: (state) => state.isSuccessSignUp\r\n  },\r\n  mutations: {\r\n    SET_EXISTED_ADMIN(state, result) {\r\n      state.isExistedAdmin = result;\r\n    },\r\n    SET_SUCCESS_SIGNUP(state, result) {\r\n      state.isSuccessSignUp = result;\r\n    }\r\n  },\r\n  actions: {\r\n    checkExistedAdmin({ commit }) {\r\n      axios\r\n        .get(SERVER.URL + SERVER.ROUTES.isExistedAdmin)\r\n        .then((res) => {\r\n          if (res.data.result == \"yes\") {\r\n            commit(\"SET_EXISTED_ADMIN\", true);\r\n            // router.push({ name: \"Login\" });\r\n          } else if (res.data.result == \"no\") {\r\n            commit(\"SET_EXISTED_ADMIN\", false);\r\n            router.push({ name: \"SignUpAdmin\" });\r\n          }\r\n          console.log(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    logout() {\r\n      axios\r\n        .get(\r\n          SERVER.URL +\r\n            SERVER.ROUTES.logout +\r\n            sessionStorage.getItem(\"loginSession\")\r\n        )\r\n        .then((res) => {\r\n          if (res.data.result == \"success\") {\r\n            sessionStorage.removeItem(\"loginSession\");\r\n            router.push({ name: \"Login\" });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  },\r\n  modules: {}\r\n};\r\n\r\nexport default Account;\r\n"]}]}