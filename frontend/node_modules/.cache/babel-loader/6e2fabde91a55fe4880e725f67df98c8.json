{"remainingRequest":"D:\\s03p31b303\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\s03p31b303\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\s03p31b303\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\s03p31b303\\frontend\\src\\components\\main\\ReportModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\s03p31b303\\frontend\\src\\components\\main\\ReportModal.vue","mtime":1605454471601},{"path":"D:\\s03p31b303\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGh0bWwyY2FudmFzIGZyb20gJ2h0bWwyY2FudmFzJzsKaW1wb3J0IGpzUERGIGZyb20gJ2pzcGRmJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZXBvcnRNb2RhbCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAiIiwKICAgICAgdG9QZGY6IFtdLAogICAgICB0aXRsZXNfa29yOiBbIuyDgeyEuCIsICLsoITssrQiLCAi7Iqk7YKk66eI67OEIl0sCiAgICAgIGVsZW1zOiBbewogICAgICAgIHRleHQ6ICJPcmFjbGUgREIgU3RhdHVzIiwKICAgICAgICB2YWx1ZTogIm9yYWNsZVN0YXR1cyIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICJTY2hlbWEgU3RhdHVzIiwKICAgICAgICB2YWx1ZTogImFsbFNjaGVtYVN0YXRpY3MiCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiVG9wIFF1ZXJ5IiwKICAgICAgICB2YWx1ZTogImFsbFNjaGVtYVRvcFF1ZXJ5IgogICAgICB9XQogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBUeXBlOiBOdW1iZXIKICB9LAogIG1ldGhvZHM6IHsKICAgIG1ha2VidG46IGZ1bmN0aW9uIG1ha2VidG4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnRvUGRmLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICBpZiAoZWxlbWVudCA9PSAiYWxsU2NoZW1hVG9wUXVlcnkiKSB7CiAgICAgICAgICBfdGhpcy5tYWtlUERGKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGxTY2hlbWFUb3BRdWVyeVRhYmxlJykuZmlyc3RFbGVtZW50Q2hpbGQuZmlyc3RFbGVtZW50Q2hpbGQsIGVsZW1lbnQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5tYWtlUERGKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQpLCBlbGVtZW50KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG1ha2VQREY6IGZ1bmN0aW9uIG1ha2VQREYoZWxlLCBuYW1lKSB7CiAgICAgIHdpbmRvdy5odG1sMmNhbnZhcyA9IGh0bWwyY2FudmFzOwogICAgICB2YXIgcGRmID0gbmV3IGpzUERGKCdwJywgJ21tJywgJ2E0Jyk7CiAgICAgIHZhciBjYW52YXMgPSBwZGYuY2FudmFzOwogICAgICB2YXIgcGFnZVdpZHRoID0gMjEwOyAvL+y6lOuyhOyKpCDrhIjruYQgbW0KCiAgICAgIGNhbnZhcy53aWR0aCA9IHBhZ2VXaWR0aDsKICAgICAgdmFyIHdpZHRoID0gZWxlLm9mZnNldFdpZHRoOyAvLyDshYDroIntirjtlZwg7JqU7IaM7J2YIHB4IOuEiOu5hAoKICAgICAgdmFyIGhlaWdodCA9IGVsZS5vZmZzZXRIZWlnaHQ7IC8vIOyFgOugie2KuO2VnCDsmpTshozsnZggcHgg64aS7J20CgogICAgICB2YXIgaW1nSGVpZ2h0ID0gcGFnZVdpZHRoICogaGVpZ2h0IC8gd2lkdGg7IC8vIOydtOuvuOyngCDrhpLsnbTqsJIgcHggdG8gbW0g67OA7ZmYCgogICAgICBpZiAoIWVsZSkgewogICAgICAgIGNvbnNvbGUud2FybignIGlzIG5vdCBleGlzdC4nKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGh0bWwyY2FudmFzKGVsZSwge30pLnRoZW4oZnVuY3Rpb24gKGNhbnZhcykgewogICAgICAgIHZhciBwb3NpdGlvbiA9IDA7CiAgICAgICAgdmFyIGltZ0RhdGEgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTsKICAgICAgICBwZGYuYWRkSW1hZ2UoaW1nRGF0YSwgJ3BuZycsIDAsIHBvc2l0aW9uLCBwYWdlV2lkdGgsIGltZ0hlaWdodCwgdW5kZWZpbmVkLCAnc2xvdycpOwogICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgICBwZGYuc2F2ZShkYXRlLmdldEZ1bGxZZWFyKCkgKyAiXyIgKyBkYXRlLmdldE1vbnRoKCkgKyAiXyIgKyBkYXRlLmdldERheSgpICsgIl8iICsgZGF0ZS5nZXRIb3VycygpICsgIl8iICsgZGF0ZS5nZXRNaW51dGVzKCkgKyAiXyIgKyBuYW1lICsgIi5wZGYiKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgICB0aGlzLiRlbWl0KCdraWxsTW9kYWwnKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnRpdGxlID0gdGhpcy50aXRsZXNfa29yW3RoaXMuVHlwZV07CiAgfQp9Ow=="},{"version":3,"sources":["ReportModal.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <v-card>\r\n    <v-card-title>\r\n      <span class=\"headline\">PDF 저장 - {{ title }}</span>\r\n    </v-card-title>\r\n    <v-card-text>\r\n      <h3>출력 항목 선택</h3>\r\n      <div v-if=\"Type=1\"></div>\r\n      <v-container>\r\n        <v-row>\r\n          <v-col cols=\"12\">\r\n            <v-select\r\n              v-model=\"toPdf\"\r\n              :items=\"elems\"\r\n              chips\r\n              multiple\r\n              outlined\r\n            ></v-select>\r\n          </v-col>\r\n        </v-row>\r\n      </v-container>\r\n      <small>*indicates required field</small>\r\n    </v-card-text>\r\n    <v-card-actions>\r\n      <v-spacer></v-spacer>\r\n      <v-btn color=\"blue darken-1\" text @click=\"$emit('killModal')\">\r\n        닫기\r\n      </v-btn>\r\n      <v-btn color=\"blue darken-1\" text @click=\"makebtn\">\r\n        저장\r\n      </v-btn>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport html2canvas from 'html2canvas';\r\nimport jsPDF from 'jspdf';\r\n\r\nexport default {\r\n  name: \"ReportModal\",\r\n  data() {\r\n    return {\r\n      title: \"\",\r\n      toPdf: [],\r\n      titles_kor: [\"상세\", \"전체\", \"스키마별\"],\r\n      elems: [\r\n          {text: \"Oracle DB Status\", value: \"oracleStatus\"},\r\n          {text: \"Schema Status\", value: \"allSchemaStatics\"},\r\n          {text: \"Top Query\", value: \"allSchemaTopQuery\"},\r\n      ]\r\n    };\r\n  },\r\n  props: {\r\n    Type: Number\r\n  },\r\n  methods: {\r\n      makebtn(){\r\n          this.toPdf.forEach(element => {\r\n              if (element == \"allSchemaTopQuery\"){\r\n                this.makePDF(document.getElementById('allSchemaTopQueryTable').firstElementChild.firstElementChild, element)\r\n              }else{\r\n                this.makePDF(document.getElementById(element), element)\r\n              }\r\n          });\r\n      },\r\n      makePDF(ele, name) {\r\n\t\t\twindow.html2canvas = html2canvas\r\n\t\t\tlet pdf = new jsPDF('p', 'mm', 'a4')\r\n            let canvas = pdf.canvas\r\n            const pageWidth = 210 //캔버스 너비 mm\r\n\t\t\tcanvas.width = pageWidth\r\n\t\t\tlet width = ele.offsetWidth // 셀렉트한 요소의 px 너비\r\n\t\t\tlet height = ele.offsetHeight // 셀렉트한 요소의 px 높이\r\n            let imgHeight = pageWidth * height/width // 이미지 높이값 px to mm 변환\r\n            \r\n\t\t\tif(!ele){\r\n\t\t\t\tconsole.warn( ' is not exist.')\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n            html2canvas(ele, {}).then(canvas => {\r\n                let position = 0\r\n                const imgData = canvas.toDataURL('image/png')\r\n                pdf.addImage(imgData, 'png', 0, position, pageWidth, imgHeight, undefined, 'slow')\r\n                let date = new Date();\r\n                pdf.save( date.getFullYear()+\"_\"+date.getMonth()+\"_\"+date.getDay()+\"_\"+date.getHours()+\"_\"+date.getMinutes()+\"_\"+name+\".pdf\")\r\n            }).catch(err => {\r\n                console.log(err)\r\n            });\r\n            this.$emit('killModal')\r\n\t\t},\r\n  },\r\n  mounted() {\r\n    this.title = this.titles_kor[this.Type];\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"],"sourceRoot":"src/components/main"}]}