{"remainingRequest":"D:\\s03p31b303\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\s03p31b303\\frontend\\src\\views\\admin\\Schema.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\s03p31b303\\frontend\\src\\views\\admin\\Schema.vue","mtime":1605428313677},{"path":"D:\\s03p31b303\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5hZG1pbi1zY2hlbWEtdGFibGUtdGJvZHkgdGQgew0KICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2QwZDBkMDsNCn0NCi5hZG1pbi1zY2hlbWEtY29udGFpbmVyIHsNCiAgbWF4LXdpZHRoOiA4MDBweDsNCn0NCi5zY2hlbWEtc2VhcmNoYmFyIHsNCiAgZGlzcGxheTogZmxleDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KfQ0KLmFkZC1zY2hlbWEtZm9ybSB7DQogIGRpc3BsYXk6IGZsZXg7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQp9DQouYWRkLXNjaGVtYSB7DQogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWZvbnQtc3ViLWNvbG9yKTsNCiAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICBwYWRkaW5nOiAxNXB4IDIwcHg7DQogIG1hcmdpbjogMTBweCAwcHg7DQogIGJveC1zaGFkb3c6IDEgMSAxIGdyYXk7DQp9DQoNCi5zZXR0aW5nLXNjaGVtYSB7DQogIG1heC13aWR0aDogNzAwcHg7DQogIGJvcmRlcjogMXB4IHNvbGlkICNhZGFkYWQ7DQp9DQojYWRkLXNjaGVtYS1idG46aG92ZXIgew0KICBiYWNrZ3JvdW5kOiB2YXIoLS1tYWluLWNvbG9yKSAhaW1wb3J0YW50Ow0KfQ0KDQouYWRtaW4tc2NoZW1hLWNvbnRhaW5lciAuc2xpZGUtZmFkZS1lbnRlci1hY3RpdmUgew0KICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOw0KfQ0KLmFkbWluLXNjaGVtYS1jb250YWluZXIgLnNsaWRlLWZhZGUtbGVhdmUtYWN0aXZlIHsNCiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsNCn0NCi5hZG1pbi1zY2hlbWEtY29udGFpbmVyIC5zbGlkZS1mYWRlLWVudGVyLCAuYWRtaW4tc2NoZW1hLWNvbnRhaW5lciAuc2xpZGUtZmFkZS1sZWF2ZS10bw0KLyogLnNsaWRlLWZhZGUtbGVhdmUtYWN0aXZlIGJlbG93IHZlcnNpb24gMi4xLjggKi8gew0KICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTIwcHgpOw0KICBvcGFjaXR5OiAwOw0KfQ0KLmFkbWluLXNjaGVtYS1jb250YWluZXIgdHI6aG92ZXIgew0KICBiYWNrZ3JvdW5kOiByZ2IoMjE5LCAyMTksIDIxOSkgIWltcG9ydGFudDsNCn0NCi5hZG1pbi1zY2hlbWEtY29udGFpbmVyIHRhYmxlIHsNCiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZDBkMGQwICFpbXBvcnRhbnQ7DQogIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkMGQwZDAgIWltcG9ydGFudDsNCn0NCi5zY2hlbWEtc2VhcmNoYmFyIC52LWlucHV0X19zbG90IHsNCiAgYmFja2dyb3VuZDogd2hpdGUgIWltcG9ydGFudDsNCiAgY29sb3I6IHZhcigtLWZvbnQtc3ViMi1jb2xvcikgIWltcG9ydGFudDsNCn0NCi5zY2hlbWEtc2VhcmNoYmFyIC52LWlucHV0X19zbG90ICogew0KICBjb2xvcjogdmFyKC0tZm9udC1zdWIyLWNvbG9yKSAhaW1wb3J0YW50Ow0KfQ0K"},{"version":3,"sources":["Schema.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Schema.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n  <div class=\"admin-schema-container\">\r\n    <h2 class=\"mb-3\" style=\"color:var(--font-main-color)\">Schema Setting</h2>\r\n    <div class=\"schema-searchbar\">\r\n      <!-- <span class=\"mdi mdi-magnify\"></span>\r\n      <div style=\"width:50%\">\r\n        <v-text-field label=\"검색할 스키마명을 입력해주세요.\"></v-text-field>\r\n      </div> -->\r\n      <div\r\n        style=\"width:400px; height:100%; padding-top:25px; margin-bottom:-10px\"\r\n      >\r\n        <v-text-field\r\n          solo\r\n          style=\"border-radius:20px;\"\r\n          append-icon=\"mdi-magnify\"\r\n          label=\"검색할 Schema ID를 입력해주세요.\"\r\n          v-model=\"findSchemaName\"\r\n          @keyup=\"findSchema\"\r\n        ></v-text-field>\r\n      </div>\r\n      <div style=\"height:100%; margin-bottom:-8px\">\r\n        <v-tooltip top>\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-btn\r\n              style=\"margin-left:auto; margin-right:10px\"\r\n              fab\r\n              small\r\n              elevation=\"2\"\r\n              color=\"var(--font-sub2-color)\"\r\n              v-bind=\"attrs\"\r\n              v-on=\"on\"\r\n              dark\r\n              @click=\"isCheckAdd = !isCheckAdd\"\r\n              id=\"add-schema-btn\"\r\n              ><v-icon v-if=\"!isCheckAdd\">mdi-plus</v-icon>\r\n              <v-icon v-if=\"isCheckAdd\">mdi-close</v-icon></v-btn\r\n            >\r\n          </template>\r\n          <span>Add Schema</span>\r\n        </v-tooltip>\r\n      </div>\r\n    </div>\r\n    <transition name=\"slide-fade\">\r\n      <v-card\r\n        class=\"add-schema\"\r\n        v-if=\"isCheckAdd\"\r\n        dark\r\n        style=\"background:#333333\"\r\n      >\r\n        <h3>Add Schema</h3>\r\n        <div class=\"add-schema-form\">\r\n          <v-text-field\r\n            prepend-icon=\"mdi-database-plus\"\r\n            label=\"추가하실 스키마ID를 입력해주세요.\"\r\n            v-model=\"userID\"\r\n            @keypress.enter=\"saveSchema\"\r\n          ></v-text-field>\r\n          <v-btn\r\n            style=\"margin-left:20px\"\r\n            color=\"grey\"\r\n            outlined\r\n            fab\r\n            small\r\n            class=\"setting-schema-save-button\"\r\n            @click=\"saveSchema\"\r\n          >\r\n            <v-icon>mdi-plus</v-icon>\r\n          </v-btn>\r\n        </div>\r\n      </v-card>\r\n    </transition>\r\n\r\n    <div>\r\n      <v-simple-table\r\n        fixed-header\r\n        height=\"290px\"\r\n        color=\"red\"\r\n        dark\r\n        style=\"background:transparent\"\r\n      >\r\n        <template v-slot:default>\r\n          <thead>\r\n            <tr>\r\n              <th class=\"text-left\" style=\"padding-left:20px\">Schema ID</th>\r\n              <th class=\"text-right\" style=\"padding-right:25px\">\r\n                Action\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody\r\n            class=\"admin-schema-table-tbody\"\r\n            style=\"color:var(--font-sub2-color)\"\r\n          >\r\n            <tr v-if=\"findSchemaList.length == 0\">\r\n              <td class=\"text-center\" colspan=\"2\">\r\n                조회된 Schema가 없습니다.\r\n              </td>\r\n            </tr>\r\n            <tr v-for=\"schema in findSchemaList\" :key=\"schema.userID\">\r\n              <td style=\"border-bottom:1px solid #d0d0d0;\">\r\n                <v-icon\r\n                  style=\"margin-bottom:3px; \"\r\n                  size=\"22\"\r\n                  color=\"var(--font-sub2-color)\"\r\n                  >mdi-database</v-icon\r\n                >\r\n                {{ schema.userID }}\r\n              </td>\r\n              <td class=\"text-right\" style=\"border-bottom:1px solid #d0d0d0;\">\r\n                <v-tooltip top>\r\n                  <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-btn\r\n                      small\r\n                      elevation=\"1\"\r\n                      color=\"error\"\r\n                      v-bind=\"attrs\"\r\n                      v-on=\"on\"\r\n                      @click=\"deleteSchema(schema.userID)\"\r\n                      ><v-icon>mdi-delete</v-icon></v-btn\r\n                    >\r\n                  </template>\r\n                  <span>Delete Schema</span>\r\n                </v-tooltip>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </template>\r\n      </v-simple-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport SERVER from \"@/api/spring.js\";\r\n\r\nexport default {\r\n  name: \"Schema\",\r\n  data() {\r\n    return {\r\n      schemaList: [],\r\n      userID: \"\",\r\n      isCheckAdd: false,\r\n      findSchemaName: \"\",\r\n      findSchemaList: []\r\n    };\r\n  },\r\n  watch: {\r\n    schemaList: function() {\r\n      this.findSchemaList = this.schemaList;\r\n    }\r\n  },\r\n  methods: {\r\n    findSchema() {\r\n      this.findSchemaList = [];\r\n      if (this.findSchemaName == \"\") this.findSchemaList = this.schemaList;\r\n      else {\r\n        this.schemaList.forEach((schema) => {\r\n          if (\r\n            schema.userID\r\n              .toLowerCase()\r\n              .includes(this.findSchemaName.toLowerCase()) ||\r\n            schema.userID\r\n              .toUpperCase()\r\n              .includes(this.findSchemaName.toUpperCase())\r\n          ) {\r\n            this.findSchemaList.push(schema);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    deleteSchema(schemaId) {\r\n      var deleteConfirm = confirm(\"정말 삭제하시겠습니까?\");\r\n      if (deleteConfirm) {\r\n        const itemToFind = this.schemaList.find(function(item) {\r\n          return item.userID === schemaId;\r\n        });\r\n        const idx = this.schemaList.indexOf(itemToFind);\r\n        if (idx > -1) {\r\n          this.schemaList.splice(idx, 1);\r\n        }\r\n        axios\r\n          .post(SERVER.URL + SERVER.ROUTES.setSettingsSchema, this.schemaList)\r\n          .then((res) => {\r\n            console.log(res.data.result);\r\n            if (res.data.result === \"saveSuccess\") {\r\n              alert(\"스키마가 성공적으로 삭제되었습니다.\");\r\n            }\r\n            this.userID = \"\";\r\n          })\r\n          .catch((err) => console.log(err));\r\n      }\r\n    },\r\n    getSettingsSchema() {\r\n      axios\r\n        .get(SERVER.URL + SERVER.ROUTES.getSettingsSchema)\r\n        .then((res) => {\r\n          this.schemaList = res.data.map.schema;\r\n        })\r\n        .catch((err) => console.log(err));\r\n    },\r\n    saveSchema() {\r\n      if (this.schemaList.length > 7) {\r\n        alert(\"최대 8개의 Schema까지 등록가능합니다.\");\r\n        return;\r\n      }\r\n      if (this.userID === \"\") {\r\n        alert(\"Schema ID를 입력해주세요.\");\r\n        return;\r\n      }\r\n      // 중복 및 존재여부 확인\r\n      axios\r\n        .post(SERVER.URL + SERVER.ROUTES.checkSettingsSchema, {\r\n          userID: this.userID\r\n        })\r\n        .then((res) => {\r\n          console.log(\"1\", res.data.result);\r\n          if (res.data.result === \"duplicate\") {\r\n            alert(\"이미 추가된 스키마 ID 입니다.\");\r\n          } else if (res.data.result === \"notExist\") {\r\n            alert(\"DB에 존재하지 않는 스키마 ID 입니다.\");\r\n          } else if (res.data.result === \"success\") {\r\n            // 조건 만족 후, 스키마 저장\r\n            this.schemaList.push({ userID: this.userID });\r\n            axios\r\n              .post(\r\n                SERVER.URL + SERVER.ROUTES.setSettingsSchema,\r\n                this.schemaList\r\n              )\r\n              .then((res) => {\r\n                console.log(res.data.result);\r\n                if (res.data.result === \"saveSuccess\") {\r\n                  alert(\"스키마를 성공적으로 추가하였습니다.\");\r\n                }\r\n                this.userID = \"\";\r\n              })\r\n              .catch(() => console.log(\"실패\"));\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  },\r\n  created() {\r\n    this.getSettingsSchema();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.admin-schema-table-tbody td {\r\n  border-bottom: 1px solid #d0d0d0;\r\n}\r\n.admin-schema-container {\r\n  max-width: 800px;\r\n}\r\n.schema-searchbar {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n.add-schema-form {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.add-schema {\r\n  border: 1px solid var(--font-sub-color);\r\n  border-radius: 5px;\r\n  padding: 15px 20px;\r\n  margin: 10px 0px;\r\n  box-shadow: 1 1 1 gray;\r\n}\r\n\r\n.setting-schema {\r\n  max-width: 700px;\r\n  border: 1px solid #adadad;\r\n}\r\n#add-schema-btn:hover {\r\n  background: var(--main-color) !important;\r\n}\r\n\r\n.admin-schema-container .slide-fade-enter-active {\r\n  transition: all 0.3s ease;\r\n}\r\n.admin-schema-container .slide-fade-leave-active {\r\n  transition: all 0.3s ease;\r\n}\r\n.admin-schema-container .slide-fade-enter, .admin-schema-container .slide-fade-leave-to\r\n/* .slide-fade-leave-active below version 2.1.8 */ {\r\n  transform: translateY(-20px);\r\n  opacity: 0;\r\n}\r\n.admin-schema-container tr:hover {\r\n  background: rgb(219, 219, 219) !important;\r\n}\r\n.admin-schema-container table {\r\n  border-left: 1px solid #d0d0d0 !important;\r\n  border-right: 1px solid #d0d0d0 !important;\r\n}\r\n.schema-searchbar .v-input__slot {\r\n  background: white !important;\r\n  color: var(--font-sub2-color) !important;\r\n}\r\n.schema-searchbar .v-input__slot * {\r\n  color: var(--font-sub2-color) !important;\r\n}\r\n</style>\r\n"]}]}