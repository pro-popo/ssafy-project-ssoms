{"remainingRequest":"D:\\s03p31b303\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\s03p31b303\\frontend\\src\\views\\admin\\Member.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\s03p31b303\\frontend\\src\\views\\admin\\Member.vue","mtime":1605465111538},{"path":"D:\\s03p31b303\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5tZW1iZXItc2VhcmNoYmFyIHsNCiAgZGlzcGxheTogZmxleDsNCiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICBtYXJnaW4tdG9wOiAyNXB4Ow0KICBtYXJnaW4tYm90dG9tOiAtMTBweDsNCn0NCg0KLm1lbWJlci1jb250YWluZXIgdGhlYWQgdGggew0KICBiYWNrZ3JvdW5kOiAjMzMzMzMzICFpbXBvcnRhbnQ7DQogIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50Ow0KfQ0KLm1lbWJlci1jb250YWluZXIgdGQgew0KICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2QwZDBkMDsNCn0NCg0KLm1lbWJlci1jb250YWluZXIgLmZhZGUtZW50ZXItYWN0aXZlLA0KLm1lbWJlci1jb250YWluZXIgLmZhZGUtbGVhdmUtYWN0aXZlIHsNCiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjVzOw0KfQ0KLm1lbWJlci1jb250YWluZXIgLmZhZGUtZW50ZXIsDQoubWVtYmVyLWNvbnRhaW5lciAuZmFkZS1sZWF2ZS10byB7DQogIG9wYWNpdHk6IDA7DQp9DQoNCi52aXNpdC1saXN0IDpob3ZlciB7DQogIGJhY2tncm91bmQ6IHJnYigyMTQsIDIxNCwgMjE0KTsNCn0NCi5ydWxlLWFkbWluIHsNCiAgYmFja2dyb3VuZDogIzc0MjNkMTsNCiAgY29sb3I6IHdoaXRlOw0KICB3aWR0aDogNTdweDsNCiAgaGVpZ2h0OiAyNXB4Ow0KICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICBwYWRkaW5nLWxlZnQ6IDlweDsNCiAgcGFkZGluZy10b3A6IDRweDsNCiAgZm9udC1zaXplOiAxMnB4Ow0KfQ0KLnJ1bGUtdXNlciB7DQogIGJhY2tncm91bmQ6IHJnYig3NCwgMTY2LCAyNDEpOw0KICBjb2xvcjogd2hpdGU7DQogIHdpZHRoOiA1N3B4Ow0KICBoZWlnaHQ6IDI1cHg7DQogIGJvcmRlci1yYWRpdXM6IDEycHg7DQogIHBhZGRpbmctbGVmdDogMTRweDsNCiAgcGFkZGluZy10b3A6IDNweDsNCiAgZm9udC1zaXplOiAxMnB4Ow0KfQ0KDQojZWRpdC1tZW1iZXItYnRuOmhvdmVyIHsNCiAgYmFja2dyb3VuZDogdmFyKC0tbWFpbi1jb2xvcikgIWltcG9ydGFudDsNCn0NCg=="},{"version":3,"sources":["Member.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiRA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Member.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n  <div class=\"member-container\">\r\n    <h2 class=\"mb-3\">Member</h2>\r\n    <div style=\"display:flex;\">\r\n      <div style=\"width:90%;margin-right:40px\">\r\n        회원 관리 및 접속 이력에 대한 조회가 가능합니다.\r\n        <div class=\"member-searchbar\">\r\n          <div style=\"width:400px\">\r\n            <v-text-field\r\n              solo\r\n              style=\"border-radius:20px\"\r\n              append-icon=\"mdi-magnify\"\r\n              label=\"검색할 회원명을 입력해주세요.\"\r\n              v-model=\"findMemberName\"\r\n              @keyup=\"findMember\"\r\n            ></v-text-field>\r\n          </div>\r\n          <div style=\"height:100%;margin-top:6px;\">\r\n            <v-tooltip top>\r\n              <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-btn\r\n                  style=\"margin-left:auto; margin-right:10px\"\r\n                  fab\r\n                  height=\"45\"\r\n                  width=\"45\"\r\n                  elevation=\"2\"\r\n                  color=\"var(--font-sub2-color)\"\r\n                  v-bind=\"attrs\"\r\n                  v-on=\"on\"\r\n                  dark\r\n                  @click=\"isClickEdit = !isClickEdit\"\r\n                  id=\"edit-member-btn\"\r\n                  ><v-icon v-if=\"!isClickEdit\">mdi-account-edit</v-icon>\r\n                  <v-icon v-if=\"isClickEdit\">mdi-close</v-icon></v-btn\r\n                >\r\n              </template>\r\n              <span>Edit Members</span>\r\n            </v-tooltip>\r\n          </div>\r\n        </div>\r\n        <v-simple-table\r\n          fixed-header\r\n          height=\"100%\"\r\n          color=\"red\"\r\n          style=\"background:transparent; \"\r\n        >\r\n          <template v-slot:default>\r\n            <thead>\r\n              <tr>\r\n                <th class=\"text-left\">이름</th>\r\n                <th class=\"text-left\">사번</th>\r\n                <th class=\"text-left\">이메일</th>\r\n                <th class=\"text-left\">연락처</th>\r\n                <th class=\"text-left\">권한</th>\r\n                <th class=\"text-left\">접속이력</th>\r\n                <th class=\"text-center\" v-if=\"isClickEdit\">Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody style=\"color:var(--font-sub2-color)\">\r\n              <tr v-if=\"findMemberList.length == 0\">\r\n                <td\r\n                  style=\"border:1px solid #d0d0d0;\"\r\n                  class=\"text-center\"\r\n                  colspan=\"6\"\r\n                >\r\n                  조회된 회원이 없습니다.\r\n                </td>\r\n              </tr>\r\n              <tr\r\n                v-for=\"member in findMemberList\"\r\n                :key=\"member.info.employeeId\"\r\n                style=\"cursor: pointer;\"\r\n              >\r\n                <td\r\n                  class=\"cell1\"\r\n                  style=\"border-left:1px solid #d0d0d0;\"\r\n                  @click=\"visitView(member)\"\r\n                >\r\n                  {{ member.info.name }}\r\n                </td>\r\n                <td class=\"cell2\" @click=\"visitView(member)\">\r\n                  {{ member.info.employeeId }}\r\n                </td>\r\n                <td class=\"cell3\" @click=\"visitView(member)\">\r\n                  <v-icon size=\"18\" style=\"margin-right:5px\">mdi-email </v-icon>\r\n                  {{ member.email }}\r\n                </td>\r\n                <td class=\"cell4\" @click=\"visitView(member)\">\r\n                  <v-icon size=\"18\" style=\"margin-right:5px\">mdi-phone</v-icon\r\n                  >{{ member.info.phoneNumber }}\r\n                </td>\r\n\r\n                <td class=\"cell5\" @click=\"visitView(member)\" scope=\"row\">\r\n                  <div class=\"rule-admin\" v-if=\"member.info.admin === true\">\r\n                    ADMIN\r\n                  </div>\r\n                  <div class=\"rule-user\" v-if=\"member.info.admin === false\">\r\n                    USER\r\n                  </div>\r\n                </td>\r\n\r\n                <td\r\n                  class=\"cell6\"\r\n                  @click=\"visitView(member)\"\r\n                  style=\"border-right:1px solid #d0d0d0;\"\r\n                >\r\n                  <v-icon size=\"18\" style=\"margin-right:5px\">mdi-clock</v-icon\r\n                  >{{ member.visit.time[member.visit.time.length - 1] }}\r\n                </td>\r\n                <td\r\n                  class=\"text-center\"\r\n                  v-if=\"isClickEdit\"\r\n                  style=\"border-right:1px solid #d0d0d0\"\r\n                >\r\n                  <v-tooltip top>\r\n                    <template v-slot:activator=\"{ on, attrs }\">\r\n                      <v-btn\r\n                        v-if=\"member.email != adminEmail\"\r\n                        @click=\"deleteMember(member.email)\"\r\n                        color=\"error\"\r\n                        v-bind=\"attrs\"\r\n                        v-on=\"on\"\r\n                        icon\r\n                        style=\"margin-right:10px; \"\r\n                        ><v-icon>mdi-delete</v-icon></v-btn\r\n                      >\r\n                    </template>\r\n                    <span>Delete Member</span>\r\n                  </v-tooltip>\r\n\r\n                  <v-tooltip top>\r\n                    <template v-slot:activator=\"{ on, attrs }\">\r\n                      <v-btn\r\n                        v-if=\"member.email != adminEmail\"\r\n                        color=\"primary\"\r\n                        icon\r\n                        v-bind=\"attrs\"\r\n                        v-on=\"on\"\r\n                        @click=\"transferAuthority(member.email)\"\r\n                        ><v-icon>mdi-account-cog</v-icon></v-btn\r\n                      >\r\n                    </template>\r\n                    <span> Transfer Authority</span>\r\n                  </v-tooltip>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </template>\r\n        </v-simple-table>\r\n      </div>\r\n      <transition name=\"fade\">\r\n        <v-list\r\n          v-if=\"visitTarget\"\r\n          dense\r\n          elevation=\"3\"\r\n          style=\"border-radius:5px;width:30%;height: 100%;\"\r\n        >\r\n          <v-card-text>\r\n            <div style=\"display:flex; justify-content:space-between\">\r\n              <h3>{{ visitTarget.info.name }} 님의 접속 이력</h3>\r\n              <v-btn\r\n                style=\"margin-top:-5px\"\r\n                small\r\n                icon\r\n                @click=\"visitTarget = false\"\r\n                ><v-icon>mdi-close</v-icon></v-btn\r\n              >\r\n            </div>\r\n            <small style=\"color:var(--font-sub-color)\">\r\n              최근 10건의 접속 기록이 노출됩니다.\r\n            </small>\r\n            <v-divider style=\"margin-top: 10px\"></v-divider>\r\n\r\n            <v-timeline align-top dense>\r\n              <v-timeline-item\r\n                color=\"#7209b7\"\r\n                small\r\n                v-for=\"(time, i) in visitTarget.visit.time.slice().reverse()\"\r\n                :key=\"i\"\r\n              >\r\n                <v-row class=\"pt-1\">\r\n                  <div>{{ time }}</div>\r\n                </v-row>\r\n              </v-timeline-item>\r\n            </v-timeline>\r\n            <v-divider></v-divider>\r\n          </v-card-text>\r\n        </v-list>\r\n      </transition>\r\n    </div>\r\n    <DeleteUserByAdmin\r\n      :dialogDelete=\"dialogDelete\"\r\n      :deleteMemberEmail=\"deleteMemberEmail\"\r\n      @delete-member-admin=\"getAllUser\"\r\n    />\r\n\r\n    <TransferAuthority\r\n      :dialogTransfer=\"dialogTransfer\"\r\n      :transferAuthorityMember=\"transferAuthorityMemberEmail\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport SERVER from \"@/api/spring.js\";\r\nimport DeleteUserByAdmin from \"@/components/account/admin/DeleteUserByAdmin.vue\";\r\nimport TransferAuthority from \"@/components/account/admin/TransferAuthority.vue\";\r\n\r\nexport default {\r\n  name: \"Member\",\r\n  data() {\r\n    return {\r\n      adminEmail: sessionStorage.getItem(\"loginSession\"),\r\n      visitTarget: null,\r\n      memberList: [],\r\n      findMemberList: [],\r\n      findMemberName: \"\",\r\n      isClickEdit: false,\r\n\r\n      dialogDelete: false,\r\n      deleteMemberEmail: \"\",\r\n\r\n      dialogTransfer: false,\r\n      transferAuthorityMemberEmail: \"\",\r\n\r\n      dialogAdmin: false\r\n    };\r\n  },\r\n  components: {\r\n    DeleteUserByAdmin,\r\n    TransferAuthority\r\n  },\r\n  methods: {\r\n    deleteMember(email) {\r\n      this.deleteMemberEmail = email;\r\n      this.dialogDelete = !this.dialogDelete;\r\n    },\r\n    transferAuthority(email) {\r\n      this.transferAuthorityMemberEmail = email;\r\n      this.dialogTransfer = !this.dialogTransfer;\r\n    },\r\n    findMember() {\r\n      this.findMemberList = [];\r\n      if (this.findMemberName == \"\") this.findMemberList = this.memberList;\r\n      else {\r\n        this.memberList.forEach((member) => {\r\n          if (member.info.name.includes(this.findMemberName)) {\r\n            this.findMemberList.push(member);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    visitView(member) {\r\n      this.visitTarget = member;\r\n    },\r\n    getAllUser() {\r\n      axios\r\n        .get(SERVER.URL + SERVER.ROUTES.allUser)\r\n        .then((res) => {\r\n          this.memberList = res.data.map.userList;\r\n          this.findMemberList = this.memberList;\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  },\r\n  created() {\r\n    this.getAllUser();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.member-searchbar {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 25px;\r\n  margin-bottom: -10px;\r\n}\r\n\r\n.member-container thead th {\r\n  background: #333333 !important;\r\n  color: white !important;\r\n}\r\n.member-container td {\r\n  border-bottom: 1px solid #d0d0d0;\r\n}\r\n\r\n.member-container .fade-enter-active,\r\n.member-container .fade-leave-active {\r\n  transition: opacity 0.5s;\r\n}\r\n.member-container .fade-enter,\r\n.member-container .fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.visit-list :hover {\r\n  background: rgb(214, 214, 214);\r\n}\r\n.rule-admin {\r\n  background: #7423d1;\r\n  color: white;\r\n  width: 57px;\r\n  height: 25px;\r\n  border-radius: 12px;\r\n  padding-left: 9px;\r\n  padding-top: 4px;\r\n  font-size: 12px;\r\n}\r\n.rule-user {\r\n  background: rgb(74, 166, 241);\r\n  color: white;\r\n  width: 57px;\r\n  height: 25px;\r\n  border-radius: 12px;\r\n  padding-left: 14px;\r\n  padding-top: 3px;\r\n  font-size: 12px;\r\n}\r\n\r\n#edit-member-btn:hover {\r\n  background: var(--main-color) !important;\r\n}\r\n</style>\r\n"]}]}