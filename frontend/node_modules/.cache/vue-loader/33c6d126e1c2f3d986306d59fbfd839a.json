{"remainingRequest":"D:\\s03p31b303\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\s03p31b303\\frontend\\src\\views\\admin\\Schema.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\s03p31b303\\frontend\\src\\views\\admin\\Schema.vue","mtime":1605861206368},{"path":"D:\\s03p31b303\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouYWxsLXNjaGVtYS1saXN0LWl0ZW0gew0KICBvdmVyZmxvdy15OiBzY3JvbGw7DQogIGhlaWdodDogNDAzcHg7DQp9DQoNCi5hZG1pbi1zY2hlbWEtdGFibGUtdGJvZHkgdGQgew0KICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2QwZDBkMDsNCn0NCi5hZG1pbi1zY2hlbWEtY29udGFpbmVyIHsNCiAgbWF4LXdpZHRoOiA4MDBweDsNCiAgd2lkdGg6IDEwMCU7DQp9DQouc2NoZW1hLXNlYXJjaGJhciB7DQogIGRpc3BsYXk6IGZsZXg7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCn0NCi5hZGQtc2NoZW1hLWZvcm0gew0KICBkaXNwbGF5OiBmbGV4Ow0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KfQ0KLmFkZC1zY2hlbWEgew0KICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1mb250LXN1Yi1jb2xvcik7DQogIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgcGFkZGluZzogMTVweCAyMHB4Ow0KICBtYXJnaW46IDEwcHggMHB4Ow0KICBib3gtc2hhZG93OiAxIDEgMSBncmF5Ow0KfQ0KDQouc2V0dGluZy1zY2hlbWEgew0KICBtYXgtd2lkdGg6IDcwMHB4Ow0KICBib3JkZXI6IDFweCBzb2xpZCAjYWRhZGFkOw0KfQ0KI2FkZC1zY2hlbWEtYnRuOmhvdmVyIHsNCiAgYmFja2dyb3VuZDogdmFyKC0tbWFpbi1jb2xvcikgIWltcG9ydGFudDsNCn0NCg0KLnNsaWRlLWZhZGUtZW50ZXItYWN0aXZlIHsNCiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsNCn0NCi5zbGlkZS1mYWRlLWxlYXZlLWFjdGl2ZSB7DQogIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7DQp9DQouc2xpZGUtZmFkZS1lbnRlciwgLnNsaWRlLWZhZGUtbGVhdmUtdG8NCi8qIC5zbGlkZS1mYWRlLWxlYXZlLWFjdGl2ZSBiZWxvdyB2ZXJzaW9uIDIuMS44ICovIHsNCiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0yMHB4KTsNCiAgb3BhY2l0eTogMDsNCn0NCi5hZG1pbi1zY2hlbWEtY29udGFpbmVyIHRyOmhvdmVyIHsNCiAgYmFja2dyb3VuZDogcmdiKDIxOSwgMjE5LCAyMTkpICFpbXBvcnRhbnQ7DQp9DQouYWRtaW4tc2NoZW1hLWNvbnRhaW5lciB0YWJsZSB7DQogIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2QwZDBkMCAhaW1wb3J0YW50Ow0KICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZDBkMGQwICFpbXBvcnRhbnQ7DQp9DQouc2NoZW1hLXNlYXJjaGJhciAudi1pbnB1dF9fc2xvdCB7DQogIGJhY2tncm91bmQ6IHdoaXRlICFpbXBvcnRhbnQ7DQogIGNvbG9yOiB2YXIoLS1mb250LXN1YjItY29sb3IpICFpbXBvcnRhbnQ7DQp9DQouc2NoZW1hLXNlYXJjaGJhciAudi1pbnB1dF9fc2xvdCAqIHsNCiAgY29sb3I6IHZhcigtLWZvbnQtc3ViMi1jb2xvcikgIWltcG9ydGFudDsNCn0NCg=="},{"version":3,"sources":["Schema.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkRA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Schema.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n  <div style=\"display:flex;\">\r\n    <div class=\"admin-schema-container\">\r\n      <h2 class=\"mb-3\" style=\"color:var(--font-main-color)\">Schema Setting</h2>\r\n      <div class=\"schema-searchbar\">\r\n        <div\r\n          style=\"width:400px; height:100%; padding-top:25px; margin-bottom:-10px\"\r\n        ></div>\r\n        <div style=\"height:100%; margin-bottom:-8px\">\r\n          <v-dialog v-model=\"dialog\" persistent max-width=\"500\">\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n              <v-btn\r\n                style=\"margin-left:auto; margin-right:10px; margin-bottom:20px;\"\r\n                fab\r\n                small\r\n                elevation=\"2\"\r\n                color=\"var(--font-sub2-color)\"\r\n                v-bind=\"attrs\"\r\n                v-on=\"on\"\r\n                dark\r\n                @click=\"getAllSchemaList\"\r\n                id=\"add-schema-btn\"\r\n                ><v-icon v-if=\"!isCheckAdd\">mdi-plus</v-icon>\r\n                <v-icon v-if=\"isCheckAdd\">mdi-close</v-icon></v-btn\r\n              >\r\n            </template>\r\n            <v-card>\r\n              <v-list\r\n                dense\r\n                elevation=\"3\"\r\n                style=\"border-radius:5px;width:500;height: 100%;\"\r\n              >\r\n                <v-card-text>\r\n                  <div style=\"display:flex; justify-content:space-between\">\r\n                    <h3>스키마 목록</h3>\r\n                    <v-btn\r\n                      style=\"margin-top:-5px\"\r\n                      small\r\n                      icon\r\n                      @click=\"[(dialog = false), (isCheckAdd = false)]\"\r\n                      ><v-icon>mdi-close</v-icon></v-btn\r\n                    >\r\n                  </div>\r\n                  <div>\r\n                    <small style=\"color:var(--font-sub-color)\">\r\n                      모든 스키마의 목록입니다.\r\n                    </small>\r\n                    <div class=\"add-schema-form\">\r\n                      <v-text-field\r\n                        append-outer-icon=\"mdi-magnify\"\r\n                        label=\"검색할 스키마ID를 입력해주세요.\"\r\n                        v-model=\"findSchemaName\"\r\n                        @keyup=\"findSchema\"\r\n                      ></v-text-field>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <v-divider style=\"margin-top: 10px\"></v-divider>\r\n                  <v-simple-table class=\"all-schema-list-item\">\r\n                    <template v-slot:default>\r\n                      <tbody>\r\n                        <tr v-if=\"findSchemaList.length == 0\">\r\n                          <td class=\"text-center\" colspan=\"2\">\r\n                            조회된 Schema가 없습니다.\r\n                          </td>\r\n                        </tr>\r\n                        <tr v-for=\"(schema, i) in findSchemaList\" :key=\"i\">\r\n                          <td style=\"width: 100%\">{{ schema }}</td>\r\n                          <td>\r\n                            <v-btn\r\n                              color=\"grey\"\r\n                              outlined\r\n                              fab\r\n                              x-small\r\n                              class=\"setting-schema-save-button\"\r\n                              @click=\"saveSchema(schema)\"\r\n                            >\r\n                              <v-icon>mdi-plus</v-icon>\r\n                            </v-btn>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </template>\r\n                  </v-simple-table>\r\n                  <v-divider></v-divider>\r\n                </v-card-text>\r\n              </v-list>\r\n            </v-card>\r\n          </v-dialog>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <v-simple-table\r\n          fixed-header\r\n          height=\"290px\"\r\n          color=\"red\"\r\n          dark\r\n          style=\"background:transparent\"\r\n        >\r\n          <template v-slot:default>\r\n            <thead>\r\n              <tr>\r\n                <th class=\"text-left\" style=\"padding-left:20px\">Schema ID</th>\r\n                <th class=\"text-right\" style=\"padding-right:25px\">\r\n                  Action\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody\r\n              class=\"admin-schema-table-tbody\"\r\n              style=\"color:var(--font-sub2-color)\"\r\n            >\r\n              <tr v-for=\"schema in schemaList\" :key=\"schema.userID\">\r\n                <td style=\"border-bottom:1px solid #d0d0d0;\">\r\n                  <v-icon\r\n                    style=\"margin-bottom:3px; \"\r\n                    size=\"22\"\r\n                    color=\"var(--font-sub2-color)\"\r\n                    >mdi-database</v-icon\r\n                  >\r\n                  {{ schema.userID }}\r\n                </td>\r\n                <td class=\"text-right\" style=\"border-bottom:1px solid #d0d0d0;\">\r\n                  <v-tooltip top>\r\n                    <template v-slot:activator=\"{ on, attrs }\">\r\n                      <v-btn\r\n                        small\r\n                        elevation=\"1\"\r\n                        color=\"error\"\r\n                        v-bind=\"attrs\"\r\n                        v-on=\"on\"\r\n                        @click=\"deleteSchema(schema.userID)\"\r\n                        ><v-icon>mdi-delete</v-icon></v-btn\r\n                      >\r\n                    </template>\r\n                    <span>Delete Schema</span>\r\n                  </v-tooltip>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </template>\r\n        </v-simple-table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport SERVER from \"@/api/spring.js\";\r\n\r\nexport default {\r\n  name: \"Schema\",\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      schemaList: [],\r\n      allSchemaList: [],\r\n      userID: \"\",\r\n      isCheckAdd: false,\r\n      findSchemaName: \"\",\r\n      findSchemaList: []\r\n    };\r\n  },\r\n  // watch: {\r\n  //   findSchemaList: function() {\r\n  //     this.findSchemaList = this.allSchemaList;\r\n  //   }\r\n  // },\r\n  methods: {\r\n    findSchema() {\r\n      this.findSchemaList = [];\r\n      if (this.findSchemaName == \"\") this.findSchemaList = this.allSchemaList;\r\n      else {\r\n        this.allSchemaList.forEach((schema) => {\r\n          if (\r\n            schema.toLowerCase().includes(this.findSchemaName.toLowerCase()) ||\r\n            schema.toUpperCase().includes(this.findSchemaName.toUpperCase())\r\n          ) {\r\n            this.findSchemaList.push(schema);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    deleteSchema(schemaId) {\r\n      var deleteConfirm = confirm(\"정말 삭제하시겠습니까?\");\r\n      if (deleteConfirm) {\r\n        const itemToFind = this.schemaList.find(function(item) {\r\n          return item.userID === schemaId;\r\n        });\r\n        const idx = this.schemaList.indexOf(itemToFind);\r\n        if (idx > -1) {\r\n          this.schemaList.splice(idx, 1);\r\n        }\r\n        axios\r\n          .post(SERVER.URL + SERVER.ROUTES.setSettingsSchema, this.schemaList)\r\n          .then((res) => {\r\n            console.log(res.data.result);\r\n            if (res.data.result === \"saveSuccess\") {\r\n              alert(\"스키마가 성공적으로 삭제되었습니다.\");\r\n            }\r\n            this.userID = \"\";\r\n          })\r\n          .catch((err) => console.log(err));\r\n      }\r\n    },\r\n    getSettingsSchema() {\r\n      axios\r\n        .get(SERVER.URL + SERVER.ROUTES.getSettingsSchema)\r\n        .then((res) => {\r\n          this.schemaList = res.data.map.schema;\r\n        })\r\n        .catch((err) => console.log(err));\r\n    },\r\n    saveSchema(schema) {\r\n      if (this.schemaList.length > 7) {\r\n        alert(\"최대 8개의 Schema까지 등록가능합니다.\");\r\n        return;\r\n      }\r\n      // if (this.userID === \"\") {\r\n      //   alert(\"Schema ID를 입력해주세요.\");\r\n      //   return;\r\n      // }\r\n      this.userID = schema;\r\n      // 중복 및 존재여부 확인\r\n      axios\r\n        .post(SERVER.URL + SERVER.ROUTES.checkSettingsSchema, {\r\n          userID: this.userID\r\n        })\r\n        .then((res) => {\r\n          console.log(\"1\", res.data.result);\r\n          if (res.data.result === \"duplicate\") {\r\n            alert(\"이미 추가된 스키마 ID 입니다.\");\r\n          } else if (res.data.result === \"notExist\") {\r\n            alert(\"DB에 존재하지 않는 스키마 ID 입니다.\");\r\n          } else if (res.data.result === \"success\") {\r\n            // 조건 만족 후, 스키마 저장\r\n            this.schemaList.push({ userID: this.userID });\r\n            axios\r\n              .post(\r\n                SERVER.URL + SERVER.ROUTES.setSettingsSchema,\r\n                this.schemaList\r\n              )\r\n              .then((res) => {\r\n                console.log(res.data.result);\r\n                if (res.data.result === \"saveSuccess\") {\r\n                  alert(\"스키마를 성공적으로 추가하였습니다.\");\r\n                }\r\n                this.userID = \"\";\r\n              })\r\n              .catch(() => console.log(\"실패\"));\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    },\r\n    getAllSchemaList() {\r\n      axios\r\n        .get(SERVER.URL + SERVER.ROUTES.getAllSchemaList)\r\n        .then((res) => {\r\n          this.allSchemaList = res.data.map.schemaList;\r\n          this.findSchemaList = res.data.map.schemaList;\r\n          this.isCheckAdd = !this.isCheckAdd;\r\n          this.findSchemaName = \"\";\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  },\r\n  created() {\r\n    this.getSettingsSchema();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.all-schema-list-item {\r\n  overflow-y: scroll;\r\n  height: 403px;\r\n}\r\n\r\n.admin-schema-table-tbody td {\r\n  border-bottom: 1px solid #d0d0d0;\r\n}\r\n.admin-schema-container {\r\n  max-width: 800px;\r\n  width: 100%;\r\n}\r\n.schema-searchbar {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n.add-schema-form {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.add-schema {\r\n  border: 1px solid var(--font-sub-color);\r\n  border-radius: 5px;\r\n  padding: 15px 20px;\r\n  margin: 10px 0px;\r\n  box-shadow: 1 1 1 gray;\r\n}\r\n\r\n.setting-schema {\r\n  max-width: 700px;\r\n  border: 1px solid #adadad;\r\n}\r\n#add-schema-btn:hover {\r\n  background: var(--main-color) !important;\r\n}\r\n\r\n.slide-fade-enter-active {\r\n  transition: all 0.3s ease;\r\n}\r\n.slide-fade-leave-active {\r\n  transition: all 0.3s ease;\r\n}\r\n.slide-fade-enter, .slide-fade-leave-to\r\n/* .slide-fade-leave-active below version 2.1.8 */ {\r\n  transform: translateY(-20px);\r\n  opacity: 0;\r\n}\r\n.admin-schema-container tr:hover {\r\n  background: rgb(219, 219, 219) !important;\r\n}\r\n.admin-schema-container table {\r\n  border-left: 1px solid #d0d0d0 !important;\r\n  border-right: 1px solid #d0d0d0 !important;\r\n}\r\n.schema-searchbar .v-input__slot {\r\n  background: white !important;\r\n  color: var(--font-sub2-color) !important;\r\n}\r\n.schema-searchbar .v-input__slot * {\r\n  color: var(--font-sub2-color) !important;\r\n}\r\n</style>\r\n"]}]}