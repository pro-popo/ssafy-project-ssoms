{"remainingRequest":"D:\\s03p31b303\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\s03p31b303\\frontend\\src\\components\\account\\DeleteUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\s03p31b303\\frontend\\src\\components\\account\\DeleteUser.vue","mtime":1605774413176},{"path":"D:\\s03p31b303\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\s03p31b303\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgU0VSVkVSIGZyb20gIkAvYXBpL3NwcmluZy5qcyI7DQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJEZWxldGVVc2VyIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZGlhbG9nOiBmYWxzZSwNCiAgICAgIGFjY291bnQ6IHsNCiAgICAgICAgZW1haWw6ICIiLA0KICAgICAgICBwdzogIiINCiAgICAgIH0sDQogICAgICBjb25maXJtUHc6ICIiLA0KICAgICAgcnVsZXM6IHsNCiAgICAgICAgcmVxdWlyZWQ6ICh2KSA9PiAhIXYgfHwgIlJlcXVpcmVkLiINCiAgICAgIH0sDQogICAgICBkZWxldGVTdWNjZXNzOiB0cnVlDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBlbWFpbE1hdGNoKCkgew0KICAgICAgcmV0dXJuICgNCiAgICAgICAgdGhpcy5kZWxldGVTdWNjZXNzIHx8ICJUaGUgZW1haWwgYW5kIHBhc3N3b3JkIHlvdSBlbnRlcmVkIGRvbid0IG1hdGNoIg0KICAgICAgKTsNCiAgICB9LA0KICAgIHB3Q29uZmlybVJ1bGVzKCkgew0KICAgICAgcmV0dXJuIHRoaXMuYWNjb3VudC5wdyA9PT0gdGhpcy5jb25maXJtUHcgfHwgIlBhc3N3b3JkIGRvIG5vdCBtYXRjaC4iOw0KICAgIH0NCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBkZWxldGVEaWFsb2c6IEJvb2xlYW4NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBkZWxldGVEaWFsb2c6IGZ1bmN0aW9uKCkgew0KICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOw0KICAgIH0sDQogICAgZGlhbG9nOiBmdW5jdGlvbigpIHsNCiAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldFZhbGlkYXRpb24oKTsNCiAgICAgIGlmICh0aGlzLmFjY291bnQuZW1haWwgIT0gIiIgfHwgdGhpcy5hY2NvdW50LnB3ICE9ICIiKSB7DQogICAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldCgpOw0KICAgICAgICB0aGlzLmRlbGV0ZVN1Y2Nlc3MgPSB0cnVlOw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgLi4ubWFwQWN0aW9ucygiQWNjb3VudCIsIFsibG9nb3V0Il0pLA0KICAgIGRlbGV0ZVVzZXIoKSB7DQogICAgICBpZiAodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsNCiAgICAgICAgYXhpb3MNCiAgICAgICAgICAucG9zdChTRVJWRVIuVVJMICsgU0VSVkVSLlJPVVRFUy5kZWxldGVVc2VyLCB0aGlzLmFjY291bnQpDQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnJlc3VsdCA9PSAic3VjY2VzcyIpIHsNCiAgICAgICAgICAgICAgdGhpcy5sb2dvdXQoKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmRhdGEucmVzdWx0ID09ICJmYWlsIikgew0KICAgICAgICAgICAgICB0aGlzLmRlbGV0ZVN1Y2Nlc3MgPSBmYWxzZTsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coIuyLpO2MqCIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["DeleteUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DeleteUser.vue","sourceRoot":"src/components/account","sourcesContent":["<template>\r\n  <v-dialog v-model=\"dialog\" max-width=\"500px\">\r\n    <v-card>\r\n      <v-card-title class=\"delete-headline\">\r\n        <span style=\"margin-left:5px; color:var(--font-sub2-color)\"\r\n          >Delete Your Account\r\n        </span>\r\n        <v-btn icon @click=\"dialog = !dialog\">\r\n          <v-icon>mdi-close</v-icon>\r\n        </v-btn>\r\n      </v-card-title>\r\n      <v-divider></v-divider>\r\n      <v-card-text style=\"padding-top:30px;\">\r\n        <span style=\"font-size:18px; padding-top:20px;\">\r\n          To delete your account:\r\n        </span>\r\n        <span>Please enter your email and password.</span>\r\n\r\n        <v-form ref=\"form\" class=\"delete-input\">\r\n          <v-text-field\r\n            prepend-icon=\"mdi-email\"\r\n            v-model=\"account.email\"\r\n            :rules=\"[rules.required]\"\r\n            label=\"E-mail\"\r\n            required\r\n          ></v-text-field>\r\n          <v-text-field\r\n            prepend-icon=\"mdi-lock\"\r\n            v-model=\"account.pw\"\r\n            :rules=\"[rules.required, emailMatch]\"\r\n            :type=\"'password'\"\r\n            name=\"input-10-1\"\r\n            label=\"Password\"\r\n            @keypress.enter=\"dialog = false\"\r\n          ></v-text-field>\r\n          <v-text-field\r\n            v-model=\"confirmPw\"\r\n            prepend-icon=\"mdi-lock-check\"\r\n            :rules=\"[rules.required, pwConfirmRules]\"\r\n            :type=\"'password'\"\r\n            name=\"input-10-1\"\r\n            label=\"Confirm Password\"\r\n            @click:append=\"show1 = !show1\"\r\n          ></v-text-field>\r\n        </v-form>\r\n      </v-card-text>\r\n      <v-divider></v-divider>\r\n      <v-card-actions>\r\n        <v-spacer></v-spacer>\r\n        <v-btn text color=\"var(--main-color)\" @click=\"deleteUser\">Submit</v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport SERVER from \"@/api/spring.js\";\r\nimport axios from \"axios\";\r\nimport { mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"DeleteUser\",\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      account: {\r\n        email: \"\",\r\n        pw: \"\"\r\n      },\r\n      confirmPw: \"\",\r\n      rules: {\r\n        required: (v) => !!v || \"Required.\"\r\n      },\r\n      deleteSuccess: true\r\n    };\r\n  },\r\n  computed: {\r\n    emailMatch() {\r\n      return (\r\n        this.deleteSuccess || \"The email and password you entered don't match\"\r\n      );\r\n    },\r\n    pwConfirmRules() {\r\n      return this.account.pw === this.confirmPw || \"Password do not match.\";\r\n    }\r\n  },\r\n  props: {\r\n    deleteDialog: Boolean\r\n  },\r\n  watch: {\r\n    deleteDialog: function() {\r\n      this.dialog = true;\r\n    },\r\n    dialog: function() {\r\n      this.$refs.form.resetValidation();\r\n      if (this.account.email != \"\" || this.account.pw != \"\") {\r\n        this.$refs.form.reset();\r\n        this.deleteSuccess = true;\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions(\"Account\", [\"logout\"]),\r\n    deleteUser() {\r\n      if (this.$refs.form.validate()) {\r\n        axios\r\n          .post(SERVER.URL + SERVER.ROUTES.deleteUser, this.account)\r\n          .then((res) => {\r\n            if (res.data.result == \"success\") {\r\n              this.logout();\r\n            } else if (res.data.result == \"fail\") {\r\n              this.deleteSuccess = false;\r\n              console.log(\"실패\");\r\n            }\r\n          });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.delete-headline {\r\n  justify-content: space-between;\r\n  height: 40px;\r\n  padding: 10px 20px 42px 20px !important;\r\n}\r\n.delete-input {\r\n  margin-top: 15px !important;\r\n}\r\n</style>\r\n"]}]}